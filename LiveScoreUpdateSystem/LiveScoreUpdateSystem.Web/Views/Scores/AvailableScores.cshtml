@model DateTime

<div class="container body-content col-md-offset-3">
    <div class="content_in content_in_s">
        <div class="live_navigation clearfix" style="margin-top: 10px;">
            <div class="calendar_wrap clearfix">
                <span id="date">
                    @(Html
                      .Kendo()
                      .DatePicker()
                      .Name("ScoresDate")
                      .Deferred()
                      .HtmlAttributes(new { id = "scores-date", value = Model })
                      .Format("dd/mm/yyyy"))
                </span>
                @*@(Html.Kendo()
                    .DatePicker()
                    .Name("DatePicker")
                    .Deferred()
                    .HtmlAttributes(new { value = DateTime.Now })
                    .Format("dd/mm/yyyy"));*@
            </div>
        </div>

        <div class="matches_list_wrap">
            @(Html.Action<ScoresController>(c => c.ByDate(Model)))
        </div>
    </div>
</div>

@section Scripts{
    <script>
        $('#scores-date').on('change', (ev) => {
            const date = kendo.toString($("#scores-date").data("kendoDatePicker").value(), 'd');
            const dateEncoded = encodeURI(date);

            const url = `/scores/bydate?date=${dateEncoded}`
            console.log(url);

            $.get(url, (dataHtml) => {
                $('.matches_list_wrap').html(dataHtml);
                $('#scores-date').val(date);
            });
        });
    //const dateChanged = (ev) => {
    //    // const date = kendo.toString($("#scores-date").data("kendoDatePicker").value(), 'd');
    //    const dateEncoded = encodeURI(date);
    //    const url = `/scores/bydate?date=${dateEncoded}`

    //    $.get(url, (dataHtml) => {
    //        $('.matches_list_wrap').html(dataHtml);
    //        $('#scores-date').val(date);
    //    });
    </script>
    <script>

    </script>

    @Scripts.Render("~/bundles/signalR");
    <script src="/signalr/hubs"></script>
    <script src="@Url.Content("~/Scripts/LiveScore/scores-timer.js")"></script>
    <script src="@Url.Content("~/Scripts/LiveScore/update-scores.js")"></script>
}